;(function(){"use strict";var gMap=void 0,iAnimatedMarkers=0;var DEFAULT_CENTER=new google.maps.LatLng(50.67,4.6);var DEFAULT_ZOOM=7;var fInitMap=function fInitMap(){gMap=new google.maps.Map(document.getElementById("gmap"),{"center":DEFAULT_CENTER,"mapTypeControl":false,"scrollwheel":false,"streetViewControl":false,"zoom":DEFAULT_ZOOM});};var fAddMarker=function fAddMarker(iLatitude,iLongitude){var gMarkerPosition=new google.maps.LatLng(iLatitude,iLongitude),gMarker=new google.maps.Marker({"map":gMap,"position":gMarkerPosition});iAnimatedMarkers++;gMap.panTo(gMarkerPosition);gMap.setZoom(12);gMarker.setAnimation(google.maps.Animation.BOUNCE);setTimeout(function(){gMarker.setAnimation();if(--iAnimatedMarkers===0){gMap.setZoom(DEFAULT_ZOOM);gMap.panTo(DEFAULT_CENTER);}},2900);};var fAddZone=function fAddZone(iLatitude,iLongitude){var iRadius=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var gZonePosition=new google.maps.LatLng(iLatitude,iLongitude);new google.maps.Circle({"center":gZonePosition,"map":gMap,"radius":iRadius*1000,"fillColor":"blue","fillOpacity":0.25,"strokeColor":"blue","strokeWeight":1});};var fGetRandomPosition=function fGetRandomPosition(fNext){$.ajax({"url":"./","method":"get","dataType":"json",success:function success(_ref){var latitude=_ref.latitude,longitude=_ref.longitude;fNext(latitude,longitude);},"error":function error(oXHR,sError){console.error(sError);}});};var fHandleAddMarkerClick=function fHandleAddMarkerClick(oEvent){oEvent.preventDefault();fGetRandomPosition(fAddMarker);};var fHandleAddZoneClick=function fHandleAddZoneClick(oEvent){oEvent.preventDefault();fGetRandomPosition(function(iLatitude,iLongitude){fAddZone(iLatitude,iLongitude,Math.random()*5);fAddMarker(iLatitude,iLongitude);});};$(function(){fInitMap();$("#add-marker").on("click",fHandleAddMarkerClick);$("#add-zone").on("click",fHandleAddZoneClick);});})();